(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{15:function(e,t,c){},18:function(e,t,c){},22:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){"use strict";c.r(t);c(22);var n=c(2),a=c.n(n),r=c(19),s=c.n(r),o=c(3),i=c(5),l=c(1),j=c(21),d="/api",b=function(){return void 0!==typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},u=c(0),m=["component"],h=function(e){var t=e.component,c=Object(j.a)(e,m);return Object(u.jsx)(i.b,Object(l.a)(Object(l.a)({},c),{},{render:function(e){return b()?Object(u.jsx)(t,Object(l.a)({},e)):Object(u.jsx)(i.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},O=c(4),p=function(e,t){return fetch("".concat(d,"/categories/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},f=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),c=t[0],a=t[1],r=b(),s=r.user,i=r.token,l=function(e){(function(e,t,c){return fetch("".concat(d,"/category/").concat(e,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,s.id,i).then((function(e){e.error?console.log(e.error):a(e)}))};Object(n.useEffect)((function(){p(s.id,i).then((function(e){e.error?console.log(e.error):a(e)}))}),[]);var j=function(e){var t=e.category;return Object(u.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[t.name,Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"btn btn-danger mr-1",onClick:function(){return l(t.id)},children:Object(u.jsx)("i",{class:"bi bi-trash-fill"})}),Object(u.jsx)(o.b,{to:"/update-category/".concat(t.id),children:Object(u.jsx)("button",{className:"btn btn-info",children:Object(u.jsx)("i",{class:"bi bi-pencil-fill"})})})]})]})};return Object(u.jsx)("div",{children:Object(u.jsx)("ul",{className:"list-group",children:c.map((function(e,t){return Object(u.jsx)(j,{category:e},t)}))})})},x=(c(15),function(e,t,c){return fetch("".concat(d,"/space/").concat(e,"/").concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}),g=function(e){var t=e.activeSpaceId,c=Object(n.useState)([]),a=Object(O.a)(c,2),r=a[0],s=a[1],i=b(),l=i.user,j=i.token,m=function(){(function(e,t){return fetch("".concat(d,"/spaces/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(l.id,j).then((function(e){e.error?console.log(e.error):s(e)}))},h=function(e){(function(e,t,c){return fetch("".concat(d,"/space/").concat(e,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,l.id,j).then((function(e){e.error?console.log(e.error):s(e)}))};Object(n.useEffect)((function(){m()}),[]);var p=function(e){var t=e.space,c=e.active;return Object(u.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center ".concat(c&&" active"),children:[Object(u.jsx)(o.b,{to:"/space/".concat(t.id),className:"".concat(c&&" text-white"),children:t.name}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"btn btn-danger mr-1",onClick:function(){return h(t.id)},children:Object(u.jsx)("i",{class:"bi bi-trash-fill"})}),Object(u.jsx)(o.b,{to:"/update-space/".concat(t.id),children:Object(u.jsx)("button",{className:"btn btn-info",children:Object(u.jsx)("i",{class:"bi bi-pencil-fill"})})})]})]})};return Object(u.jsx)("div",{className:"list-space",children:Object(u.jsx)("ul",{className:"list-group",children:r.map((function(e,c){return Object(u.jsx)(p,{active:t==e.id,space:e},c)}))})})},v=function(){return Object(u.jsxs)("div",{className:"container-fluid",children:[!b()&&Object(u.jsx)(i.a,{to:"/signin"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-4 ",children:Object(u.jsxs)("div",{className:"card p-3",children:[Object(u.jsx)("h2",{children:"Category List"}),b()&&Object(u.jsx)(f,{})]})}),Object(u.jsx)("div",{className:"col-6 offset-1   ",children:Object(u.jsxs)("div",{className:"card p-3",children:[Object(u.jsx)("h2",{children:"Space List"}),b()&&Object(u.jsx)(g,{})]})})]})]})},N=c(7),y=(c(36),function(){var e=Object(n.useState)({email:"",password:"",loading:!1,error:!1,redirectToReferrer:!1}),t=Object(O.a)(e,2),c=t[0],a=t[1],r=c.email,s=c.password,o=c.error,j=(c.loading,c.redirectToReferrer,function(e){return function(t){a(Object(l.a)(Object(l.a)({},c),{},Object(N.a)({error:!1},e,t.target.value)))}}),m=function(e){var t;e.preventDefault(),a(Object(l.a)(Object(l.a)({},c),{},{error:!1,loading:!0})),(t={email:r,password:s},fetch("".concat(d,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))).then((function(e){e.error?a(Object(l.a)(Object(l.a)({},c),{},{error:e.error,loading:!1})):function(e,t){"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())}(e,(function(){a(Object(l.a)(Object(l.a)({},c),{},{redirectToReferrer:!0}))}))}))};return Object(u.jsx)("div",{className:"jumbotron",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-6 offset-3",children:Object(u.jsxs)("div",{className:"signin",children:[Object(u.jsx)("h1",{children:"Log-In"}),Object(u.jsx)("div",{className:"alert alert-danger",style:{display:o?"":"none"},children:o}),Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:"from-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Email"}),Object(u.jsx)("input",{type:"email",value:r,onChange:j("email"),className:"form-control",placeholder:"email"})]}),Object(u.jsxs)("div",{className:"from-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Password"}),Object(u.jsx)("input",{type:"password",value:s,onChange:j("password"),className:"form-control mb-2",placeholder:"password"})]}),Object(u.jsx)("button",{onClick:m,className:"btn btn-primary",children:"Submit"})]}),function(){if(b())return Object(u.jsx)(i.a,{to:"/"})}()]})})})})})}),T=(c(37),function(){var e=Object(n.useState)({name:"",email:"",password:"",success:!1,error:!1}),t=Object(O.a)(e,2),c=t[0],a=t[1],r=c.name,s=c.email,i=c.password,j=c.error,b=c.success,m=function(e){return function(t){a(Object(l.a)(Object(l.a)({},c),{},Object(N.a)({error:!1},e,t.target.value)))}},h=function(e){var t;e.preventDefault(),a(Object(l.a)(Object(l.a)({},c),{},{error:!1})),(t={name:r,email:s,password:i},fetch("".concat(d,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))).then((function(e){e.error?a(Object(l.a)(Object(l.a)({},c),{},{error:e.error,success:!1})):a(Object(l.a)(Object(l.a)({},c),{},{name:"",email:"",password:"",error:"",success:!0}))}))};return Object(u.jsx)("div",{className:"jumbotron",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-6 offset-3",children:Object(u.jsxs)("div",{className:"signup",children:[Object(u.jsx)("h1",{children:"Sign Up"}),Object(u.jsxs)("div",{className:"alert alert-success",style:{display:b?"":"none"},children:["New Account is created please ",Object(u.jsx)(o.b,{to:"/signin",children:"Signin"})]}),Object(u.jsx)("div",{className:"alert alert-danger",style:{display:j?"":"none"},children:j}),Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:"from-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Name"}),Object(u.jsx)("input",{type:"text",value:r,onChange:m("name"),className:"form-control mb-2",placeholder:"name..."})]}),Object(u.jsxs)("div",{className:"from-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Email"}),Object(u.jsx)("input",{type:"email",value:s,onChange:m("email"),className:"form-control mb-2",placeholder:"Email..."})]}),Object(u.jsxs)("div",{className:"from-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Password"}),Object(u.jsx)("input",{type:"password",value:i,onChange:m("password"),className:"form-control mb-2",placeholder:"password"})]}),Object(u.jsx)("button",{onClick:h,className:"btn btn-primary",children:"Submit"})]})]})})})})})}),C=Object(i.g)((function(e){var t=e.history,c=function(e,t){return e.location.pathname===t?"active":""};return Object(u.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(u.jsx)(o.b,{className:"navbar-brand",to:"/",children:"Todo"}),Object(u.jsx)("button",{className:"navbar-toggler ",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[Object(u.jsxs)("ul",{className:"navbar-nav ",children:[b()&&Object(u.jsx)("li",{className:"nav-item ".concat(c(t,"/")),children:Object(u.jsxs)(o.b,{className:"nav-link",to:"/",children:["Home ",Object(u.jsx)("span",{className:"sr-only",children:"(current)"})]})}),!b()&&Object(u.jsxs)(n.Fragment,{children:[Object(u.jsx)("li",{className:"nav-item ".concat(c(t,"/signup")),children:Object(u.jsxs)(o.b,{className:"nav-link",to:"/signup",children:["SingUp ",Object(u.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(u.jsx)("li",{className:"nav-item ".concat(c(t,"/signin")),children:Object(u.jsxs)(o.b,{className:"nav-link",to:"/signin",children:["Signin ",Object(u.jsx)("span",{className:"sr-only",children:"(current)"})]})})]}),b()&&Object(u.jsxs)(n.Fragment,{children:[Object(u.jsx)("li",{className:"nav-item ".concat(c(t,"/add-category")),children:Object(u.jsxs)(o.b,{className:"nav-link",to:"/add-category",children:["Add Category ",Object(u.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(u.jsx)("li",{className:"nav-item ".concat(c(t,"/add-space")),children:Object(u.jsxs)(o.b,{className:"nav-link",to:"/add-space",children:["Add space ",Object(u.jsx)("span",{className:"sr-only",children:"(current)"})]})})]})]}),b()&&Object(u.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(u.jsx)("li",{className:"nav-item ",children:Object(u.jsx)("span",{className:"nav-link",onClick:function(){!function(e){if("undefined"!==typeof window)localStorage.removeItem("jwt"),e(),fetch("".concat(d,"/signout"),{method:"GET"}).then((function(e){console.log("signout",e)})).catch((function(e){console.log(e)}))}((function(){t.push("/")}))},style:{cursor:"pointer"},children:"Signout"})})})]})]})})),S=(c(18),function(){var e=Object(n.useState)({name:"",success:!1,error:!1}),t=Object(O.a)(e,2),c=t[0],a=t[1],r=c.name,s=c.error,o=c.success,j=b(),m=j.user,h=j.token,p=function(e){return function(t){a(Object(l.a)(Object(l.a)({},c),{},Object(N.a)({error:!1},e,t.target.value)))}},f=function(e){e.preventDefault(),""!==r.trim()?(a(Object(l.a)(Object(l.a)({},c),{},{error:!1})),function(e){var t=e.userId,c=e.token,n=e.name;return fetch("".concat(d,"/category/create/").concat(t),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify({category:n})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}({userId:m.id,token:h,name:r}).then((function(e){e.error?a(Object(l.a)(Object(l.a)({},c),{},{error:e.error,success:!1})):a(Object(l.a)(Object(l.a)({},c),{},{name:"",error:"",success:!0}))}))):alert("category required")};return Object(u.jsx)("div",{className:"jumbotron",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-6 offset-3",children:Object(u.jsxs)("div",{className:"cattegory-form",children:[Object(u.jsx)("h1",{children:"Create Category"}),o&&Object(u.jsx)(i.a,{to:"/"}),Object(u.jsx)("div",{className:"alert alert-danger",style:{display:s?"":"none"},children:s}),Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:"from-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Name"}),Object(u.jsx)("input",{type:"text",value:r,onChange:p("name"),className:"form-control mb-2",placeholder:"name"})]}),Object(u.jsx)("button",{onClick:f,className:"btn btn-primary",children:"Submit"})]})]})})})})})}),I=function(e){var t=e.match,c=Object(n.useState)({id:0,name:"",success:!1,error:!1}),a=Object(O.a)(c,2),r=a[0],s=a[1],o=r.id,j=r.name,m=r.error,h=r.success,p=b(),f=p.user,x=p.token,g=function(e){return function(t){s(Object(l.a)(Object(l.a)({},r),{},Object(N.a)({error:!1},e,t.target.value)))}},v=function(e){e.preventDefault(),s(Object(l.a)(Object(l.a)({},r),{},{error:!1})),function(e){var t=e.userId,c=e.token,n=e.category;return fetch("".concat(d,"/category/update/").concat(t),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(Object(l.a)({},n))}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}({userId:f.id,token:x,category:{id:o,name:j}}).then((function(e){e.error?s(Object(l.a)(Object(l.a)({},r),{},{error:e.error,success:!1})):s(Object(l.a)(Object(l.a)({},r),{},{name:"",error:"",success:!0}))}))},y=function(e){(function(e,t,c){return fetch("".concat(d,"/category/").concat(e,"/").concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,f.id,x).then((function(e){e.error?s(Object(l.a)(Object(l.a)({},r),{},{error:e.error})):(console.log(e),s(Object(l.a)({},e)))}))};Object(n.useEffect)((function(){y(t.params.categoryId)}),[]);return Object(u.jsx)("div",{className:"jumbotron",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-6 offset-3",children:Object(u.jsxs)("div",{className:"cattegory-form",children:[Object(u.jsx)("h1",{children:"Update Category"}),h&&Object(u.jsx)(i.a,{to:"/"}),Object(u.jsx)("div",{className:"alert alert-danger",style:{display:m?"":"none"},children:m}),Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:"from-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Name"}),Object(u.jsx)("input",{type:"text",value:j,onChange:g("name"),className:"form-control mb-2"})]}),Object(u.jsx)("button",{onClick:v,className:"btn btn-primary ",children:"Submit"})]})]})})})})})},w=function(){var e=Object(n.useState)({name:"",date:(new Date).toISOString().split("T")[0],success:!1,error:!1}),t=Object(O.a)(e,2),c=t[0],a=t[1],r=c.name,s=c.date,o=c.error,j=c.success,m=b(),h=m.user,p=m.token,f=function(e){return function(t){a(Object(l.a)(Object(l.a)({},c),{},Object(N.a)({error:!1},e,t.target.value)))}},x=function(e){e.preventDefault(),a(Object(l.a)(Object(l.a)({},c),{},{error:!1})),function(e){var t=e.userId,c=e.token,n=e.space;return fetch("".concat(d,"/space/create/").concat(t),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(Object(l.a)({},n))}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}({userId:h.id,token:p,space:{name:r,date:s}}).then((function(e){e.error?a(Object(l.a)(Object(l.a)({},c),{},{error:e.error,success:!1})):a(Object(l.a)(Object(l.a)({},c),{},{date:"",name:"",error:"",success:!0}))}))};return Object(u.jsx)("div",{className:"jumbotron",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-6 offset-3",children:Object(u.jsxs)("div",{className:"space-form",children:[Object(u.jsx)("h1",{children:"Create Space"}),j&&Object(u.jsx)(i.a,{to:"/"}),Object(u.jsx)("div",{className:"alert alert-danger",style:{display:o?"":"none"},children:o}),Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:"from-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Name"}),Object(u.jsx)("input",{type:"text",value:r,onChange:f("name"),className:"form-control mb-2",placeholder:"name.."})]}),Object(u.jsxs)("div",{className:"from-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Date"}),Object(u.jsx)("input",{type:"date",value:s,onChange:f("date"),className:"form-control mb-2"})]}),Object(u.jsx)("button",{onClick:x,className:"btn btn-primary",children:"Submit"})]})]})})})})})},k=function(e){var t=e.match,c=Object(n.useState)({id:0,date:"",name:"",success:!1,error:!1}),a=Object(O.a)(c,2),r=a[0],s=a[1],o=r.id,j=r.name,m=r.date,h=r.error,p=r.success,f=b(),g=f.user,v=f.token,y=function(e){return function(t){s(Object(l.a)(Object(l.a)({},r),{},Object(N.a)({error:!1},e,t.target.value)))}},T=function(e){e.preventDefault(),""!==j.trim()?(s(Object(l.a)(Object(l.a)({},r),{},{error:!1})),function(e){var t=e.userId,c=e.token,n=e.space;return fetch("".concat(d,"/space/update/").concat(t),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(Object(l.a)({},n))}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}({userId:g.id,token:v,space:{id:o,name:j,date:m}}).then((function(e){e.error?s(Object(l.a)(Object(l.a)({},r),{},{error:e.error,success:!1})):s(Object(l.a)(Object(l.a)({},r),{},{date:"",name:"",error:"",success:!0}))}))):alert("name required")};Object(n.useEffect)((function(){var e;e=t.params.spaceId,x(e,g.id,v).then((function(e){e.error?s(Object(l.a)(Object(l.a)({},r),{},{error:e.error})):s(Object(l.a)(Object(l.a)({},e),{},{date:e.date.split("T")[0]}))}))}),[]);return Object(u.jsx)("div",{className:"jumbotron",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-6 offset-3",children:Object(u.jsxs)("div",{className:"space-form",children:[p&&Object(u.jsx)(i.a,{to:"/"}),Object(u.jsx)("div",{className:"alert alert-danger",style:{display:h?"":"none"},children:h}),Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:"from-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Name"}),Object(u.jsx)("input",{type:"text",value:j,onChange:y("name"),className:"form-control"})]}),Object(u.jsxs)("div",{className:"from-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Date"}),Object(u.jsx)("input",{type:"date",value:m,onChange:y("date"),className:"form-control mb-2"})]}),Object(u.jsx)("button",{onClick:T,className:"btn btn-primary",children:"Submit"})]})]})})})})})},A=function(e){var t=e.spaceId,c=e.newTodo,a=e.categories,r=Object(n.useState)({text:"",categoryId:0,beginTime:"12:00",endTime:"12:00",suceess:!1,error:!1}),s=Object(O.a)(r,2),o=s[0],i=s[1],j=b(),m=j.user,h=j.token,p=o.text,f=o.categoryId,x=o.beginTime,g=o.endTime,v=(o.error,o.success,function(e){return function(t){i(Object(l.a)(Object(l.a)({},o),{},Object(N.a)({error:!1},e,t.target.value)))}}),y=function(e){e.preventDefault(),0!==f?(i(Object(l.a)(Object(l.a)({},o),{},{error:!1})),function(e){var t=e.spaceId,c=e.userId,n=e.token,a=e.todo;return fetch("".concat(d,"/todo/create/").concat(t,"/").concat(c),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({todo:a})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}({spaceId:t,userId:m.id,token:h,todo:{text:p,categoryId:f,beginTime:x,endTime:g}}).then((function(e){e.error?i(Object(l.a)(Object(l.a)({},o),{},{error:e.error,success:!1})):(i(Object(l.a)(Object(l.a)({},o),{},{text:"",categoryId:0,beginTime:"12:00",endTime:"12:00",suceess:!0,error:!1})),c())}))):alert("select category")};return Object(u.jsx)("nav",{children:Object(u.jsxs)("form",{className:"card mb-2 mt-2 p-2",children:[Object(u.jsxs)("select",{className:"form-control mb-1",onChange:v("categoryId"),children:[Object(u.jsx)("option",{children:"select category"}),a.map((function(e,t){return Object(u.jsx)("option",{value:e.id,children:e.name},t)}))]}),Object(u.jsxs)("div",{className:"input-group mb-1",children:[Object(u.jsx)("div",{className:"input-group-prepend",children:Object(u.jsx)("span",{className:"input-group-text",children:"From"})}),Object(u.jsx)("input",{type:"time",value:x,onChange:v("beginTime"),className:"form-control"}),Object(u.jsx)("div",{className:"input-group-prepend",children:Object(u.jsx)("span",{className:"input-group-text",children:"To"})}),Object(u.jsx)("input",{type:"time",value:g,onChange:v("endTime"),className:"form-control"})]}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("textarea",{className:"form-control",placeholder:"Text",value:p,onChange:v("text"),rows:"3"})}),Object(u.jsx)("button",{onClick:y,className:"btn btn-primary mb-1",children:"create todo"})]})})},E=function(e){var t=Object(n.useRef)(),c=Object(n.useState)([]),a=Object(O.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)({todoId:0,text:"",categoryId:0,beginTime:"12:00",endTime:"12:00",suceess:!1,error:!1}),i=Object(O.a)(o,2),j=i[0],m=i[1],h=Object(n.useState)({id:0,date:"",name:""}),f=Object(O.a)(h,2),v=f[0],y=f[1],T=Object(n.useState)([]),C=Object(O.a)(T,2),S=C[0],I=C[1],w=b(),k=w.user,E=w.token,B=j.todoId,z=j.text,D=j.categoryId,J=j.beginTime,P=j.endTime,L=(j.error,j.success,function(){(function(e,t,c){return fetch("".concat(d,"/todos/").concat(e,"/").concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e.match.params.spaceId,k.id,E).then((function(t){t.error?e.history.push("/"):s(t)}))}),G=function(){x(e.match.params.spaceId,k.id,E).then((function(t){t.error?e.history.push("/"):y(t)}))};Object(n.useEffect)((function(){L(),G(),p(k.id,E).then((function(e){e.error?console.log(e.error):I(e)}))}),[]),Object(n.useEffect)((function(){L(),G()}),[e.match.params.spaceId]);var M=function(t){(function(e,t,c,n){return fetch("".concat(d,"/todo/").concat(e,"/").concat(t,"/").concat(c),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e.match.params.spaceId,t,k.id,E).then((function(e){e.error?console.log(e.error):s(e)}))},F=function(e){return function(t){m(Object(l.a)(Object(l.a)({},j),{},Object(N.a)({error:!1},e,t.target.value)))}},R=function(e){var t=e.todo;return Object(u.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center mb-3",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:t.text}),Object(u.jsxs)("h6",{className:"text-muted",children:["Category : ",t.name]}),Object(u.jsx)("small",{children:Object(u.jsxs)("h6",{className:"text-muted",children:[t.beginTime," To ",t.endTime," "]})})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"btn btn-danger mr-1",onClick:function(){return M(t.id)},children:Object(u.jsx)("i",{className:"bi bi-trash-fill"})}),Object(u.jsx)("button",{className:"btn btn-info",onClick:function(){return m(Object(l.a)(Object(l.a)({},t),{},{todoId:t.id}))},"data-toggle":"modal","data-target":"#updateModal",children:Object(u.jsx)("i",{className:"bi bi-pencil-fill"})})]})]})},U=function(){0!==D?(m(Object(l.a)(Object(l.a)({},j),{},{error:!1})),function(e){var t=e.userId,c=e.token,n=e.todo;return fetch("".concat(d,"/todo/update/").concat(t),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(Object(l.a)({},n))}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}({spaceId:e.match.params.spaceId,userId:k.id,token:E,todo:{id:B,text:z,categoryId:D,beginTime:J,endTime:P}}).then((function(e){e.error?m(Object(l.a)(Object(l.a)({},j),{},{error:e.error,success:!1})):(m(Object(l.a)(Object(l.a)({},j),{},{text:"",categoryId:0,beginTime:"12:00",endTime:"12:00",suceess:!0,error:!1})),t.current.click(),L())}))):alert("select category")};return Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsx)("div",{className:"modal fade",id:"updateModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog",role:"document",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Update Todo"}),Object(u.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(u.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(u.jsx)("div",{className:"modal-body",children:Object(u.jsxs)("form",{className:"card mb-2 mt-2 p-2",children:[Object(u.jsxs)("select",{className:"form-control mb-1",onChange:F("categoryId"),value:D,children:[Object(u.jsx)("option",{children:"select category"}),S.map((function(e,t){return Object(u.jsx)("option",{value:e.id,children:e.name},t)}))]}),Object(u.jsxs)("div",{className:"input-group mb-1",children:[Object(u.jsx)("div",{className:"input-group-prepend",children:Object(u.jsx)("span",{className:"input-group-text",id:"",children:"From"})}),Object(u.jsx)("input",{type:"time",value:J,onChange:F("beginTime"),className:"form-control"}),Object(u.jsx)("div",{className:"input-group-prepend",children:Object(u.jsx)("span",{className:"input-group-text",id:"",children:"To"})}),Object(u.jsx)("input",{type:"time",value:P,onChange:F("endTime"),className:"form-control"})]}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("textarea",{className:"form-control",placeholder:"Text",value:z,onChange:F("text"),rows:"3"})})]})}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)("button",{type:"button",ref:t,className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(u.jsx)("button",{type:"button",onClick:U,className:"btn btn-primary",children:"Save changes"})]})]})})}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-4",children:b()&&Object(u.jsx)(g,{activeSpaceId:e.match.params.spaceId})}),Object(u.jsxs)("div",{className:"col-6",children:[Object(u.jsx)(A,{userId:k.id,spaceId:e.match.params.spaceId,newTodo:function(){L()},categories:S}),Object(u.jsxs)("div",{className:"card p-3 mb-2",children:[Object(u.jsxs)("h2",{className:"text-muted",children:["Todolist : ",v.name]}),Object(u.jsxs)("p",{className:"text-muted",children:["Date : ",v.date.split("T")[0]]})]}),Object(u.jsx)("div",{children:Object(u.jsx)("ul",{className:"list-group",children:r.map((function(e,t){return Object(u.jsx)(R,{todo:e},t)}))})})]})]})]})},B=function(){return Object(u.jsxs)(o.a,{children:[Object(u.jsx)(C,{}),Object(u.jsx)("div",{className:"content",children:Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{path:"/",exact:!0,component:v}),Object(u.jsx)(i.b,{path:"/signin",component:y}),Object(u.jsx)(i.b,{path:"/signup",component:T}),Object(u.jsx)(h,{path:"/add-category",component:S}),Object(u.jsx)(h,{path:"/update-category/:categoryId",component:I}),Object(u.jsx)(h,{path:"/add-space",component:w}),Object(u.jsx)(h,{path:"/update-space/:spaceId",component:k}),Object(u.jsx)(h,{path:"/space/:spaceId",component:E})]})})]})};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(B,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.e9735d6d.chunk.js.map